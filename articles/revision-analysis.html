<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Revision Patterns and Statistics • reviser</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Revision Patterns and Statistics">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">reviser</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/reviser.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/understanding-revisions.html">Understanding Data Revisions</a></li>
    <li><a class="dropdown-item" href="../articles/revision-analysis.html">Revision Patterns and Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/efficient-release.html">Identifying an Efficient Release in Data Subject to Revisions</a></li>
    <li><a class="dropdown-item" href="../articles/nowcasting-revisions.html">Nowcasting Revisions</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/p-wegmueller/reviser/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Revision Patterns and Statistics</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/p-wegmueller/reviser/blob/main/vignettes/revision-analysis.Rmd" class="external-link"><code>vignettes/revision-analysis.Rmd</code></a></small>
      <div class="d-none name"><code>revision-analysis.Rmd</code></div>
    </div>

    
    
<p>This vignette provides a detailed explanation of the statistical
measures and hypothesis tests used in
<code><a href="../reference/get_revision_analysis.html">get_revision_analysis()</a></code>. The function is designed to
analyze revisions between preliminary and final data releases, helping
to assess bias, efficiency, correlation, seasonality, and the relative
contributions of news and noise in revisions. The function returns a
tibble with the desired statistics and hypothesis tests. In the
following sections, we provide a detailed explanation of the statistics
and hypothesis tests used in the function and provide the corresponding
column name in brackets to assess it.</p>
<p>Let’s define some notation to facilitate the discussion of the
statistics and hypothesis tests used in the function:</p>
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><annotation encoding="application/x-tex">y_t^h</annotation></semantics></math>
denote the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>h</mi><annotation encoding="application/x-tex">h</annotation></semantics></math>th
released value for time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">h=0</annotation></semantics></math>
being the preliminary release</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">y_t^f</annotation></semantics></math>
denote the final revised value for time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>=</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup></mrow><annotation encoding="application/x-tex">r_t^f = y_t^f - y_t^h</annotation></semantics></math>
be the final revision compared to the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>h</mi><annotation encoding="application/x-tex">h</annotation></semantics></math>th
release for time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>
is the number of observations</li>
</ul>
<p>The function takes two mandatory arguments:</p>
<ol style="list-style-type: decimal">
<li>A data frame containing the preliminary data releases.</li>
<li>A data frame containing the final release data against which the
revisions are calculated and preliminary data will be compared.</li>
</ol>
<p>The function argument <code>degree</code> allows users to specify
which statistics and hypothesis tests to include in the output:</p>
<ul>
<li>
<code>degree = 1</code> includes information about revision size
(default)</li>
<li>
<code>degree = 2</code> includes correlation statistics of
revision</li>
<li>
<code>degree = 3</code> includes news and noise tests</li>
<li>
<code>degree = 4</code> includes sign switches, seasonality analysis
and Theil’s U</li>
<li>
<code>degree = 5</code> includes all the statistics and hypothesis
tests</li>
</ul>
<div class="section level2">
<h2 id="summary-statistics">Summary Statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h2>
<div class="section level3">
<h3 id="revision-size">Revision Size<a class="anchor" aria-label="anchor" href="#revision-size"></a>
</h3>
<p>Revisions provide insights into the reliability of initial data
releases. Various metrics assess their magnitude and distribution:</p>
<div class="section level4">
<h4 id="mean-revision-bias-mean">1. <strong>Mean Revision</strong> (<code>"Bias (mean)"</code>)<a class="anchor" aria-label="anchor" href="#mean-revision-bias-mean"></a>
</h4>
<p>The mean revision quantifies systematic bias in the revisions:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Bias</mtext><mo>=</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup></mrow><annotation encoding="application/x-tex">
   \text{Bias} = \bar{r} = \frac{1}{N} \sum_{t=1}^{N} r_t^{f}
   </annotation></semantics></math></p>
<p>If the mean revision is significantly different from zero, it
indicates a tendency for initial releases to be systematically over- or
under-estimated. A <strong>t-test</strong> is conducted to test the null
hypothesis
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">H_0: \bar{r} = 0</annotation></semantics></math>.</p>
<ul>
<li>
<code>"Bias (p-value)"</code> reports the standard t-test
p-value.<br>
</li>
<li>
<code>"Bias (robust p-value)"</code> provides a
heteroskedasticity-robust alternative.</li>
</ul>
</div>
<div class="section level4">
<h4 id="mean-absolute-revision-mar">2. <strong>Mean Absolute Revision</strong> (<code>"MAR"</code>)<a class="anchor" aria-label="anchor" href="#mean-absolute-revision-mar"></a>
</h4>
<p>The mean absolute revision measures the average size of revisions,
regardless of direction:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">MAR</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mrow><mo stretchy="true" form="prefix">|</mo><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo stretchy="true" form="postfix">|</mo></mrow></mrow><annotation encoding="application/x-tex">
   \text{MAR} = \frac{1}{N} \sum_{t=1}^{N} |r_t^{f}|
   </annotation></semantics></math></p>
<p>This metric is useful when evaluating the magnitude of revisions
rather than their direction.</p>
</div>
<div class="section level4">
<h4 id="minimum-and-maximum-revisions-minimum-maximum">3. <strong>Minimum and Maximum Revisions</strong>
(<code>"Minimum"</code>, <code>"Maximum"</code>)<a class="anchor" aria-label="anchor" href="#minimum-and-maximum-revisions-minimum-maximum"></a>
</h4>
<p>These statistics capture the most extreme downward and upward
revisions in the dataset.</p>
</div>
<div class="section level4">
<h4 id="percentiles-of-revisions-10q-median-90q">4. <strong>Percentiles of Revisions</strong> (<code>"10Q"</code>,
<code>"Median"</code>, <code>"90Q"</code>)<a class="anchor" aria-label="anchor" href="#percentiles-of-revisions-10q-median-90q"></a>
</h4>
<p>The 10th, 50th (median), and 90th percentiles provide a
distributional perspective, helping to identify skewness and tail
behavior in revisions.</p>
</div>
<div class="section level4">
<h4 id="standard-deviation-of-revisions-std--dev-">5. <strong>Standard Deviation of Revisions</strong>
(<code>"Std. Dev."</code>)<a class="anchor" aria-label="anchor" href="#standard-deviation-of-revisions-std--dev-"></a>
</h4>
<p>The standard deviation quantifies the dispersion of revisions:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>r</mi></msub><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">
   \sigma_r = \sqrt{ \frac{1}{N-1} \sum_{t=1}^{N} (r_t^{f} - \bar{r})^2 }
   </annotation></semantics></math></p>
<p>A higher standard deviation indicates greater variability in the
revision process.</p>
</div>
<div class="section level4">
<h4 id="noise-to-signal-ratio-noisesignal">6. <strong>Noise-to-Signal Ratio</strong>
(<code>"Noise/Signal"</code>)<a class="anchor" aria-label="anchor" href="#noise-to-signal-ratio-noisesignal"></a>
</h4>
<p>This metric measures the relative size of revisions compared to the
total variance in the final data:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><msub><mi>σ</mi><mi>r</mi></msub><msub><mi>σ</mi><mi>y</mi></msub></mfrac><annotation encoding="application/x-tex">
   \frac{\sigma_r}{\sigma_y}
   </annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>σ</mi><mi>y</mi></msub><annotation encoding="application/x-tex">\sigma_y</annotation></semantics></math>
is the standard deviation of the final value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">y_t^f</annotation></semantics></math>.
A high noise-to-signal ratio suggests that revisions are large relative
to the underlying variability in the final data, indicating high
uncertainty in initial estimates.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://p-wegmueller.github.io/reviser/">reviser</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tsbox/" class="external-link">tsbox</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">gdp</span> <span class="op">&lt;-</span> <span class="fu">reviser</span><span class="fu">::</span><span class="va"><a href="../reference/gdp.html">gdp</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_pc.html" class="external-link">ts_pc</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_nth_release.html">get_nth_release</a></span><span class="op">(</span><span class="va">gdp</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">final_release</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_latest_release.html">get_latest_release</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_revision_analysis.html">get_revision_analysis</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  <span class="va">final_release</span>,</span>
<span>  degree <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 14</span></span></span>
<span><span class="co">#&gt;   id    release       N `Bias (mean)` `Bias (p-value)` `Bias (robust p-value)`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHE   release_0   178       0.110            0.006<span style="text-decoration: underline;">92</span>                0.000<span style="text-decoration: underline;">107</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHE   release_1   177       0.096<span style="text-decoration: underline;">0</span>           0.014<span style="text-decoration: underline;">8</span>                 0.000<span style="text-decoration: underline;">202</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EA    release_0   178       0.055<span style="text-decoration: underline;">3</span>           0.001<span style="text-decoration: underline;">67</span>                0.000<span style="text-decoration: underline;">450</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EA    release_1   177       0.050<span style="text-decoration: underline;">2</span>           0.003<span style="text-decoration: underline;">67</span>                0.000<span style="text-decoration: underline;">673</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> JP    release_0   178       0.009<span style="text-decoration: underline;">89</span>          0.848                  0.795   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> JP    release_1   177       0.009<span style="text-decoration: underline;">20</span>          0.859                  0.790   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: Minimum &lt;dbl&gt;, Maximum &lt;dbl&gt;, `10Q` &lt;dbl&gt;, Median &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `90Q` &lt;dbl&gt;, MAR &lt;dbl&gt;, `Std. Dev.` &lt;dbl&gt;, `Noise/Signal` &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="correlation-of-revisions">Correlation of Revisions<a class="anchor" aria-label="anchor" href="#correlation-of-revisions"></a>
</h3>
<p>Understanding how revisions relate to initial releases and past
revisions can reveal patterns in the revision process:</p>
<div class="section level4">
<h4 id="correlation-between-revisions-and-initial-releases-correlation">1. <strong>Correlation Between Revisions and Initial
Releases</strong> (<code>"Correlation"</code>)<a class="anchor" aria-label="anchor" href="#correlation-between-revisions-and-initial-releases-correlation"></a>
</h4>
<p>This measures whether revisions are systematically related to the
initial release
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><annotation encoding="application/x-tex">y_t^h</annotation></semantics></math>,
which serves as a proxy for available information at the time of
release:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi><mo>=</mo><mfrac><mrow><mo>∑</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>−</mo><msup><mover><mi>y</mi><mo accent="true">‾</mo></mover><mi>h</mi></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>R</mi><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><msqrt><mrow><mo>∑</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>−</mo><msup><mover><mi>y</mi><mo accent="true">‾</mo></mover><mi>h</mi></msup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt><msqrt><mrow><mo>∑</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">
   \rho = \frac{\sum (y_t^h - \bar{y}^h) (Rr_t^f - \bar{r})}{\sqrt{\sum (y_t^h - \bar{y}^h)^2}  \sqrt{\sum (r_t^f - \bar{r})^2}}
   </annotation></semantics></math></p>
<p>A significant correlation suggests that initial estimates contain
information that predicts later revisions. A <strong>t-test</strong>
(<code>"Correlation (p-value)"</code>) is used to test whether
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ρ</mi><annotation encoding="application/x-tex">\rho</annotation></semantics></math>
is significantly different from zero.</p>
</div>
<div class="section level4">
<h4 id="st-order-autocorrelation-of-revisions-autocorrelation-1st">2. <strong>1st order Autocorrelation of Revisions</strong>
(<code>"Autocorrelation (1st)"</code>)<a class="anchor" aria-label="anchor" href="#st-order-autocorrelation-of-revisions-autocorrelation-1st"></a>
</h4>
<p>The <strong>first-order autocorrelation</strong> measures the
persistence in the revision process by examining whether past revisions
predict future revisions:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ρ</mi><mn>1</mn></msub><mo>=</mo><mfrac><mrow><mo>∑</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>r</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><msqrt><mrow><mo>∑</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt><msqrt><mrow><mo>∑</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>r</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mi>f</mi></msubsup><mo>−</mo><mover><mi>r</mi><mo accent="true">‾</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">
   \rho_1 = \frac{\sum (r_t^f - \bar{r}) (r_{t-1}^f - \bar{r})}{\sqrt{\sum (r_t^f - \bar{r})^2 } \sqrt{\sum (r_{t-1}^f - \bar{r})^2}}
   </annotation></semantics></math></p>
<p>If revisions exhibit strong autocorrelation, it may indicate a
systematic pattern in the revision process rather than purely random
adjustments.<br>
A <strong>t-test</strong> (<code>"Autocorrelation (1st p-value)"</code>)
is used to assess whether
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>ρ</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\rho_1</annotation></semantics></math>
is significantly different from zero.</p>
</div>
<div class="section level4">
<h4 id="autocorrelation-of-revisions-up-to-1-year-autocorrelation-up-to-1yr-ljung-box-p-value">3. <strong>Autocorrelation of Revisions up to 1 year</strong>
(<code>"Autocorrelation up to 1yr (Ljung-Box p-value)"</code>)<a class="anchor" aria-label="anchor" href="#autocorrelation-of-revisions-up-to-1-year-autocorrelation-up-to-1yr-ljung-box-p-value"></a>
</h4>
<p>This metric assesses the autocorrelation of revisions up to a lag of
1 year using the Ljung-Box test. The null hypothesis of the Ljung-Box
test is that there is <strong>no autocorrelation</strong> up to the
specified lag. In other words, the revisions are independent of one
another. The alternative hypothesis is that there <strong>is
autocorrelation</strong> in the revisions.</p>
<ul>
<li>
<strong>For quarterly data (4 observations per year)</strong>, the
test checks for autocorrelation up to <strong>4 lags</strong>.</li>
<li>
<strong>For monthly data (12 observations per year)</strong>, the
test checks for autocorrelation up to <strong>12 lags</strong>.</li>
<li>
<strong>For other frequencies</strong>, the test is skipped.</li>
</ul>
<p>The Ljung-Box test statistic is computed using the following
formula:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>N</mi><mo>+</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mfrac><msubsup><mover><mi>ρ</mi><mo accent="true">̂</mo></mover><mi>k</mi><mn>2</mn></msubsup><mrow><mi>N</mi><mo>−</mo><mi>k</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">
  Q = N(N + 2) \sum_{k=1}^{m} \frac{\hat{\rho}_k^2}{N - k}
  </annotation></semantics></math></p>
<ul>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math>
is the Ljung-Box statistic.</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>
is the number of observations in the time series.</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mover><mi>ρ</mi><mo accent="true">̂</mo></mover><mi>k</mi></msub><annotation encoding="application/x-tex">\hat{\rho}_k</annotation></semantics></math>
is the <strong>sample autocorrelation</strong> at lag
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>.
This measures the correlation between the revisions at time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
and time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">t-k</annotation></semantics></math>.</p></li>
<li>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the number of lags considered (which corresponds to the frequency of
the data: 4 for quarterly data, 12 for monthly data).</p>
<p>The test statistic
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math>
is used to determine whether there is significant autocorrelation. If
the autocorrelation at a particular lag is large, it suggests that the
revisions at that lag are not independent of each other. The larger the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math>-statistic,
the stronger the evidence that the revisions are
autocorrelated.</p>
</li>
</ul>
<p>These metrics collectively help evaluate the reliability,
predictability, and potential biases in data revisions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_revision_analysis.html">get_revision_analysis</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  <span class="va">final_release</span>,</span>
<span>  degree <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   id    release      N Correlation Correlation (p-value…¹ Autocorrelation (1st…²</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHE   release…   178      -<span style="color: #BB0000;">0.209</span>              0.005<span style="text-decoration: underline;">17</span>                  -<span style="color: #BB0000;">0.088</span><span style="color: #BB0000; text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHE   release…   177      -<span style="color: #BB0000;">0.204</span>              0.006<span style="text-decoration: underline;">56</span>                  -<span style="color: #BB0000;">0.114</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EA    release…   178      -<span style="color: #BB0000;">0.315</span>              0.000<span style="text-decoration: underline;">018</span>7                -<span style="color: #BB0000;">0.092</span><span style="color: #BB0000; text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EA    release…   177      -<span style="color: #BB0000;">0.318</span>              0.000<span style="text-decoration: underline;">015</span>8                -<span style="color: #BB0000;">0.157</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> JP    release…   178      -<span style="color: #BB0000;">0.204</span>              0.006<span style="text-decoration: underline;">26</span>                  -<span style="color: #BB0000;">0.278</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> JP    release…   177      -<span style="color: #BB0000;">0.241</span>              0.001<span style="text-decoration: underline;">26</span>                  -<span style="color: #BB0000;">0.292</span> </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated names: ¹​`Correlation (p-value)`, ²​`Autocorrelation (1st)`</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: `Autocorrelation (1st p-value)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Autocorrelation up to 1yr (Ljung-Box p-value)` &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="sign-switches">Sign Switches<a class="anchor" aria-label="anchor" href="#sign-switches"></a>
</h3>
<p>Sign switches in data revisions can occur when the direction of an
economic indicator changes between its initial release and later
revisions. We define two key metrics to assess the stability of these
directional signals:</p>
<div class="section level4">
<h4 id="fraction-of-sign-changes">1. <strong>Fraction of sign changes</strong><a class="anchor" aria-label="anchor" href="#fraction-of-sign-changes"></a>
</h4>
<p>This metric (<code>"Fraction of correct sign"</code>) evaluates how
often the sign of the initially reported value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><annotation encoding="application/x-tex">y_t^h</annotation></semantics></math>
differs from the final revised value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">y_t^f</annotation></semantics></math>.
Mathematically, we compute:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Fraction of sign consistency</mtext><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mn>𝟙</mn><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">sign</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mtext mathvariant="normal">sign</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mi>T</mi></mfrac></mrow><annotation encoding="application/x-tex">
   \text{Fraction of sign consistency} = \frac{\sum_{t=1}^{T} \mathbb{1}(\text{sign}(y_t^h) = \text{sign}(y_t^f))}{T}
   </annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>𝟙</mn><mrow><mo stretchy="true" form="prefix">(</mo><mo>⋅</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbb{1}(\cdot)</annotation></semantics></math>
is an indicator function that equals 1 if the signs match and 0
otherwise.</p>
</div>
<div class="section level4">
<h4 id="fraction-of-sign-changes-in-the-growth-rate">2. <strong>Fraction of sign changes in the growth rate</strong><a class="anchor" aria-label="anchor" href="#fraction-of-sign-changes-in-the-growth-rate"></a>
</h4>
<p>This metric (<code>"Fraction of correct growth rate change"</code>)
assesses whether the direction of change in the variable remains
consistent after revisions. Specifically, we compare the sign of the
period-over-period differences:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Fraction of sign consistency in growth</mtext><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>2</mn></mrow><mi>T</mi></munderover><mn>𝟙</mn><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">sign</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>Δ</mi><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mtext mathvariant="normal">sign</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>Δ</mi><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>T</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">
   \text{Fraction of sign consistency in growth} = \frac{\sum_{t=2}^{T} \mathbb{1}(\text{sign}(\Delta y_t^h) = \text{sign}(\Delta y_t^f))}{T-1}
   </annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>=</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>−</mo><msubsup><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mi>h</mi></msubsup></mrow><annotation encoding="application/x-tex">\Delta y_t^h = y_t^h - y_{t-1}^h</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo>=</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><msubsup><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mi>f</mi></msubsup></mrow><annotation encoding="application/x-tex">\Delta y_t^f = y_t^f - y_{t-1}^f</annotation></semantics></math>
represent the first differences of the initially reported and final
values, respectively.</p>
<p>A high fraction of incorrect signs in either metric suggests that
early estimates may be unreliable in capturing the true direction of the
variable.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="hypothesis-tests">Hypothesis Tests<a class="anchor" aria-label="anchor" href="#hypothesis-tests"></a>
</h2>
<div class="section level3">
<h3 id="news-and-noise-tests-for-data-revisions">News and Noise Tests for Data Revisions<a class="anchor" aria-label="anchor" href="#news-and-noise-tests-for-data-revisions"></a>
</h3>
<p>The <strong>news and noise tests</strong> analyze the properties of
<strong>data revisions</strong> in relation to the final and preliminary
releases of an economic variable. These tests help to evaluate whether
the revisions are systematic, whether they contain new information, or
whether they are simply noisy adjustments <span class="citation">(<a href="#ref-mankiwNewsNoiseAnalysis1986">Mankiw and Shapiro 1986</a>; <a href="#ref-aruobaDataRevisionsAre2008">Aruoba 2008</a>)</span>.</p>
<p><strong>Final revisions</strong> can be classified into two
categories:</p>
<ol style="list-style-type: lower-roman">
<li><p><strong>Noise:</strong> The initial announcement is an
observation of the final series, measured with error. This means that
the revision is uncorrelated with the final value but correlated with
the data available when the estimate is made.</p></li>
<li><p><strong>News:</strong> The initial announcement is an efficient
forecast that reflects all available information, and subsequent
estimates reduce the forecast error by incorporating new information.
The revision is correlated with the final value but uncorrelated with
the data available when the estimate is made, i.e., unpredictable using
the information set at the time of the initial announcement.</p></li>
</ol>
<p>To test these categories, we run <strong>two regression
tests:</strong></p>
<div class="section level4">
<h4 id="the-noise-test">1. <strong>The Noise Test</strong><a class="anchor" aria-label="anchor" href="#the-noise-test"></a>
</h4>
<p>The <strong>noise test</strong> examines whether the
<strong>revision</strong> can be predicted by the final value:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>=</mo><mi>α</mi><mo>+</mo><mi>β</mi><mo>⋅</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo>+</mo><msub><mi>ϵ</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">
  {r}_t^f = \alpha + \beta \cdot {y_t^f} + \epsilon_t
  </annotation></semantics></math></p>
<p>If the preliminary value were an <strong>efficient and unbiased
estimate</strong> of the final value (i.e incorporating all relevant
information), revisions should be <strong>uncorrelated</strong> with the
final value. The null hypothesis is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><mi>α</mi><mo>=</mo><mn>0</mn><mo>,</mo><mspace width="1.0em"></mspace><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">
  H_0: \alpha = 0, \quad \beta = 0
  </annotation></semantics></math></p>
<ul>
<li>The function tests the joint hypothesis
(<code>"Noise joint test (p-value)"</code>) that both
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta = 0</annotation></semantics></math>
using a <strong>heteroskedasticity and autocorrelation consistent (HAC)
covariance matrix</strong> to ensure robust inference.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha = 0</annotation></semantics></math>
tests (<code>"News test Intercept (p-value)"</code>) whether the
revisions have a systematic bias.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta = 0</annotation></semantics></math>
tests (<code>"News test Coefficient (p-value)"</code>) whether the
revisions are correlated with the final value, indicating
inefficiency.</li>
</ul>
</div>
<div class="section level4">
<h4 id="the-news-test">2. <strong>The News Test</strong><a class="anchor" aria-label="anchor" href="#the-news-test"></a>
</h4>
<p>The <strong>news test</strong> examines whether the revision is
predictable using the preliminary release:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><mo>=</mo><mi>α</mi><mo>+</mo><mi>β</mi><mo>⋅</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>+</mo><msub><mi>ϵ</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">
{r}_t^f = \alpha + \beta \cdot {y}_t^h + \epsilon_t
</annotation></semantics></math></p>
<p>Here, we test whether revisions are <strong>systematically
related</strong> to the initial value. The null hypothesis is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><mi>α</mi><mo>=</mo><mn>0</mn><mo>,</mo><mspace width="1.0em"></mspace><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">
H_0: \alpha = 0, \quad \beta = 0
</annotation></semantics></math></p>
<ul>
<li>The function tests the joint hypothesis
(<code>"News joint test (p-value)"</code>) that both
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta = 0</annotation></semantics></math>
using a <strong>HAC covariance matrix</strong> to ensure robust
inference.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha = 0</annotation></semantics></math>
tests (<code>"News test Intercept (p-value)"</code>) whether the
revisions have a systematic bias.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta = 0</annotation></semantics></math>
tests (<code>"News test Coefficient (p-value)"</code>) whether the
revisions are correlated with the initial value, indicating
inefficiency.</li>
</ul>
<p>Note: Instead of regressing
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>r</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">r_t^f</annotation></semantics></math>
on
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">y_t^f</annotation></semantics></math>
or
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><annotation encoding="application/x-tex">y_t^h</annotation></semantics></math>,
one can similarly regress <span class="math display">$$
  \text{Noise: } \quad y_t^h = \alpha + \beta \cdot y_t^f + \epsilon_t
\\
  \text{News: } \quad y_t^f = \alpha + \beta \cdot y_t^h + \epsilon_t
$$</span> and test
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\beta = 1</annotation></semantics></math>
for the presence of noise and news in the data revisions.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_revision_analysis.html">get_revision_analysis</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  <span class="va">final_release</span>,</span>
<span>  degree <span class="op">=</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 17</span></span></span>
<span><span class="co">#&gt;   id    release       N `News test Intercept` `News test Intercept (std.err)`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHE   release_0   178                0.149                           0.041<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHE   release_1   177                0.134                           0.044<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EA    release_0   178                0.074<span style="text-decoration: underline;">1</span>                          0.019<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EA    release_1   177                0.069<span style="text-decoration: underline;">0</span>                          0.018<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> JP    release_0   178                0.058<span style="text-decoration: underline;">5</span>                          0.043<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> JP    release_1   177                0.065<span style="text-decoration: underline;">0</span>                          0.040<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12 more variables: `News test Intercept (p-value)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `News test Coefficient` &lt;dbl&gt;, `News test Coefficient (std.err)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `News test Coefficient (p-value)` &lt;dbl&gt;, `News joint test (p-value)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Noise test Intercept` &lt;dbl&gt;, `Noise test Intercept (std.err)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Noise test Intercept (p-value)` &lt;dbl&gt;, `Noise test Coefficient` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Noise test Coefficient (std.err)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Noise test Coefficient (p-value)` &lt;dbl&gt;, …</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="test-of-seasonality-in-revisions">Test of Seasonality in Revisions<a class="anchor" aria-label="anchor" href="#test-of-seasonality-in-revisions"></a>
</h3>
<p>To test whether seasonality is present in revisions, we employ a
Friedman test. Note that this test is always performed on
first-differentiated series.</p>
<div class="section level4">
<h4 id="friedman-test">
<strong>Friedman Test</strong><a class="anchor" aria-label="anchor" href="#friedman-test"></a>
</h4>
<p>The Friedman test (<code>"Seasonality (Friedman p-value)"</code>) is
a non-parametric statistical test that examines whether the distribution
of ranked data differs systematically across seasonal periods, such as
months or quarters. It does not require distributional assumptions,
making it a robust tool for detecting seasonality in revision series.
The test is applied by first transforming the revision series into a
matrix where each row represents a year and each column represents a
specific month or quarter. It is constructed as follows. Consider first
the matrix of data
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>n</mi><mo>×</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{x_{ij}\}_{n \times k}</annotation></semantics></math>
with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
rows (i.e., the number of years in the sample) and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>
columns (i.e., either 12 months or 4 quarters, depending on the
frequency of the data). The data matrix needs to be replaced by a new
matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>n</mi><mo>×</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{r_{ij}\}_{n \times k}</annotation></semantics></math>,
where the entry
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">r_{ij}</annotation></semantics></math>
is the rank of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">x_{ij}</annotation></semantics></math>
within the row
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>.
The test is executed using the <code><a href="https://rdrr.io/r/stats/friedman.test.html" class="external-link">stats::friedman.test()</a></code>
function. The null hypothesis is that the average ranking across columns
is the same, indicating no seasonality in the revisions.</p>
</div>
</div>
<div class="section level3">
<h3 id="theils-u-statistics">Theil’s U Statistics<a class="anchor" aria-label="anchor" href="#theils-u-statistics"></a>
</h3>
<p>In the context of revision analysis, <strong>Theil’s inequality
coefficient</strong>, or <strong>Theil’s U</strong>, provides a measure
of the accuracy of a initial estimates
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><annotation encoding="application/x-tex">y_t^h</annotation></semantics></math>)
relative to final or more refined values
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">y_t^f</annotation></semantics></math>).
Various definitions of Theil’s statistics exist, leading to different
interpretations. This package considers two widely used variants:
<strong>U1</strong> and <strong>U2</strong>.</p>
<div class="section level4">
<h4 id="theils-u1-statistic-theils-u1">1. <strong>Theil’s U1 Statistic</strong>
(<code>"Theil's U1"</code>)<a class="anchor" aria-label="anchor" href="#theils-u1-statistic-theils-u1"></a>
</h4>
<p>The first measure, <strong>U1</strong>, is given by:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>1</mn></msub><mo>=</mo><mfrac><msqrt><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo>−</mo><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt><mrow><msqrt><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mn>2</mn></msup></mrow></msqrt><mo>+</mo><msqrt><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">
U_1 = \frac{\sqrt{\frac{1}{n}\sum^n_{t=1}(y_t^f-y_t^h)^2}}{\sqrt{\frac{1}{n}\sum^n_{t=1}{y_t^f}^2}+\sqrt{\frac{1}{n}\sum^n_{t=1}{y_t^h}^2}}
</annotation></semantics></math></p>
<p>The <strong>U1 statistic is bounded between 0 and 1</strong>:</p>
<ul>
<li>A value of <strong>0</strong> implies perfect forecasting
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>=</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup></mrow><annotation encoding="application/x-tex">y_t^h = y_t^f</annotation></semantics></math>
for all
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>).<br>
</li>
<li>A value <strong>closer to 1</strong> indicates lower accuracy.</li>
</ul>
<p>However, U1 suffers from <strong>several limitations</strong>, as
highlighted by <span class="citation">Granger and Newbold (<a href="#ref-Granger01031973">1973</a>)</span>. A critical issue arises
when <strong>one of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><annotation encoding="application/x-tex">y_t^h</annotation></semantics></math>
or
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><annotation encoding="application/x-tex">y_t^f</annotation></semantics></math>
equals zero in all periods</strong>. In such cases, the denominator and
numerator become equal, leading to <strong>U1 = 1</strong> even when
preliminary estimates are close to the final values.</p>
</div>
<div class="section level4">
<h4 id="theils-u2-statistic-theils-u2">2. <strong>Theil’s U2 Statistic</strong>
(<code>"Theil's U2"</code>)<a class="anchor" aria-label="anchor" href="#theils-u2-statistic-theils-u2"></a>
</h4>
<p>To address these shortcomings, <span class="citation">Theil et al.
(<a href="#ref-theil1966applied">1966</a>)</span> proposed an
alternative measure, <strong>U2</strong>, which is defined as:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>2</mn></msub><mo>=</mo><mfrac><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msubsup><mi>y</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mi>h</mi></msubsup><mo>−</mo><msubsup><mi>y</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mi>f</mi></msubsup></mrow><msubsup><mi>Y</mi><mi>t</mi><mi>f</mi></msubsup></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msubsup><mi>y</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mi>f</mi></msubsup><mo>−</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup></mrow><msubsup><mi>Y</mi><mi>t</mi><mi>f</mi></msubsup></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">
U_2 = \frac{\sqrt{\sum_{t=1}^{n} \left( \frac{y_{t+1}^h- y_{t+1}^f}{Y_t^f} \right)^2}}{\sqrt{\sum_{t=1}^{n} \left( \frac{y_{t+1}^f - y_t^f}{Y_t^f} \right)^2}}
</annotation></semantics></math></p>
<p>where:</p>
<ul>
<li>The numerator captures the <strong>relative errors</strong> in the
preliminary estimates.<br>
</li>
<li>The denominator measures the <strong>magnitude of changes</strong>
in the final values over time.</li>
</ul>
<p>Unlike U1, <strong>U2 is not bounded between 0 and 1</strong>.
Instead:</p>
<ul>
<li>A value of <strong>0</strong> implies perfect accuracy
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>y</mi><mi>t</mi><mi>h</mi></msubsup><mo>=</mo><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup></mrow><annotation encoding="application/x-tex">y_{t}^h = y_{t}^f</annotation></semantics></math>
for all
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>).<br>
</li>
<li>
<strong><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">U_2 = 1</annotation></semantics></math></strong>
means the accuracy of the preliminary estimates is equal to a
<strong>naïve forecast</strong>.<br>
</li>
<li>
<strong><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>2</mn></msub><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">U_2 &gt; 1</annotation></semantics></math></strong>
suggests the preliminary estimates are <strong>less accurate</strong>
than the naïve approach.<br>
</li>
<li>
<strong><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>2</mn></msub><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">U_2 &lt; 1</annotation></semantics></math></strong>
indicates the preliminary estimates are <strong>more accurate</strong>
than the naïve method.</li>
</ul>
<p>Whenever possible (<strong>if
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>y</mi><mi>t</mi><mi>f</mi></msubsup><mo>≠</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">y_{t}^f \neq 0</annotation></semantics></math>
for all
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math></strong>),
<strong>U2 is the preferred metric</strong> for evaluating preliminary
estimates.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_revision_analysis.html">get_revision_analysis</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  <span class="va">final_release</span>,</span>
<span>  degree <span class="op">=</span> <span class="fl">4</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   id    release     N Fraction of correct …¹ Fraction of correct …² `Theil's U1`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHE   releas…   178                  0.803                  0.652       0.262 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHE   releas…   177                  0.802                  0.644       0.250 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EA    releas…   178                  0.944                  0.764       0.081<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EA    releas…   177                  0.944                  0.763       0.079<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> JP    releas…   178                  0.820                  0.725       0.266 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> JP    releas…   177                  0.802                  0.712       0.262 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated names: ¹​`Fraction of correct sign`,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​`Fraction of correct growth rate change`</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: `Theil's U2` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Seasonality (Friedman p-value)` &lt;dbl&gt;</span></span></span></code></pre></div>
<p>In the above examples, we analyze GDP revisions by comparing the
final release with the first and second releases, which correspond to
the diagonal elements of the real-time data matrix. This approach
provides insight into how initial estimates evolve over time.</p>
<p>Alternatively, we can compare GDP revisions between specific
publication dates. In the example below, we analyze revisions from the
GDP releases from April and July 2024, using the final release from
October 2024 as the benchmark. The grouping of statistics is by default
determined by the <code>pub_date</code> or <code>release</code> column.
Alternatively, it can be specified via the optional function argument
<code>grouping_var</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">gdp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">pub_date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024-04-01"</span>, <span class="st">"2024-07-01"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_revision_analysis.html">get_revision_analysis</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  <span class="va">final_release</span>,</span>
<span>  degree <span class="op">=</span> <span class="fl">5</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 39</span></span></span>
<span><span class="co">#&gt;   id    pub_date       N Frequency `Bias (mean)` `Bias (p-value)`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHE   2024-04-01   176         4       0.002<span style="text-decoration: underline;">26</span>            0.478</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHE   2024-07-01   177         4      -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">23</span>            0.371</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> EA    2024-04-01   176         4       0.006<span style="text-decoration: underline;">56</span>            0.159</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> EA    2024-07-01   177         4       0.002<span style="text-decoration: underline;">05</span>            0.520</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> JP    2024-04-01   176         4      -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">23</span>            0.490</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> JP    2024-07-01   177         4      -<span style="color: #BB0000;">0.002</span><span style="color: #BB0000; text-decoration: underline;">76</span>            0.305</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 33 more variables: `Bias (robust p-value)` &lt;dbl&gt;, Minimum &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Maximum &lt;dbl&gt;, `10Q` &lt;dbl&gt;, Median &lt;dbl&gt;, `90Q` &lt;dbl&gt;, MAR &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Std. Dev.` &lt;dbl&gt;, `Noise/Signal` &lt;dbl&gt;, Correlation &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Correlation (p-value)` &lt;dbl&gt;, `Autocorrelation (1st)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Autocorrelation (1st p-value)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Autocorrelation up to 1yr (Ljung-Box p-value)` &lt;dbl&gt;, `Theil's U1` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Theil's U2` &lt;dbl&gt;, `Seasonality (Friedman p-value)` &lt;dbl&gt;, …</span></span></span></code></pre></div>
<p>The <code><a href="../reference/get_revision_analysis.html">get_revision_analysis()</a></code> function requires a single
time series in <code>final_release</code> and compares it to multiple
time series in <code>df</code> for the same <code>id</code>. To always
compare two consecutive publication dates, it is necessary to structure
the analysis sequentially. The code below iterates over consecutive
publication dates in the gdp dataset, comparing revisions between each
pair. For each pair of consecutive dates, it extracts the corresponding
data, runs <code><a href="../reference/get_revision_analysis.html">get_revision_analysis()</a></code> to analyze revisions,
and then combines the results into a single dataframe.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get unique sorted publication dates</span></span>
<span><span class="va">pub_dates</span> <span class="op">&lt;-</span> <span class="va">gdp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">pub_date</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">pub_date</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">pub_date</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run the function for each pair of consecutive publication dates</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_dfr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">pub_dates</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pub_dates</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> </span>
<span>  <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">df</span> <span class="op">&lt;-</span> <span class="va">gdp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">pub_date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">pub_dates</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">final_release</span> <span class="op">&lt;-</span> <span class="va">gdp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">pub_date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">pub_dates</span><span class="op">[</span><span class="va">i</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/get_revision_analysis.html">get_revision_analysis</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">final_release</span>, degree <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 39</span></span></span>
<span><span class="co">#&gt;   id    pub_date       N Frequency `Bias (mean)` `Bias (p-value)`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHE   2002-10-01    90         4      0.000<span style="text-decoration: underline;">632</span>            0.634</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> EA    2002-10-01    90         4      0.001<span style="text-decoration: underline;">06</span>             0.512</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> JP    2002-10-01    90         4      0.023<span style="text-decoration: underline;">1</span>              0.629</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> US    2002-10-01    90         4      0                 <span style="color: #BB0000;">NaN</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> CHE   2003-01-01    91         4     -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">84</span>             0.563</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> EA    2003-01-01    91         4      0.001<span style="text-decoration: underline;">92</span>             0.750</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 33 more variables: `Bias (robust p-value)` &lt;dbl&gt;, Minimum &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Maximum &lt;dbl&gt;, `10Q` &lt;dbl&gt;, Median &lt;dbl&gt;, `90Q` &lt;dbl&gt;, MAR &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Std. Dev.` &lt;dbl&gt;, `Noise/Signal` &lt;dbl&gt;, Correlation &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Correlation (p-value)` &lt;dbl&gt;, `Autocorrelation (1st)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Autocorrelation (1st p-value)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Autocorrelation up to 1yr (Ljung-Box p-value)` &lt;dbl&gt;, `Theil's U1` &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Theil's U2` &lt;dbl&gt;, `Seasonality (Friedman p-value)` &lt;dbl&gt;, …</span></span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-aruobaDataRevisionsAre2008" class="csl-entry">
Aruoba, S. Borağan. 2008. <span>“Data <span>Revisions Are Not Well
Behaved</span>.”</span> <em>Journal of Money, Credit and Banking</em> 40
(2-3): 319–40. <a href="https://doi.org/10.1111/j.1538-4616.2008.00115.x" class="external-link">https://doi.org/10.1111/j.1538-4616.2008.00115.x</a>.
</div>
<div id="ref-Granger01031973" class="csl-entry">
Granger, C. W. J., and P. Newbold. 1973. <span>“Some Comments on the
Evaluation of Economic Forecasts.”</span> <em>Applied Economics</em> 5
(1): 35–47. <a href="https://doi.org/10.1080/00036847300000003" class="external-link">https://doi.org/10.1080/00036847300000003</a>.
</div>
<div id="ref-mankiwNewsNoiseAnalysis1986" class="csl-entry">
Mankiw, N. Gregory, and Matthew Shapiro. 1986. <span>“News or
<span>Noise</span>? <span>An Analysis</span> of <span>GNP
Revisions</span>.”</span> w1939. Cambridge, MA: National Bureau of
Economic Research. <a href="https://doi.org/10.3386/w1939" class="external-link">https://doi.org/10.3386/w1939</a>.
</div>
<div id="ref-theil1966applied" class="csl-entry">
Theil, Henri, GAC Beerens, CG Tilanus, and Christiaan Bernhard De Leeuw.
1966. <em>Applied Economic Forecasting</em>. Vol. 4. North-Holland
Publishing Company Amsterdam.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://marcburri.github.io" class="external-link">Marc Burri</a>, <a href="https://p-wegmueller.github.io" class="external-link">Philipp Wegmueller</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
